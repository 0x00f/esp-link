  <div id="main">
    <div class="header">
      <div><img src="favicon.ico" height="64"><span class="jl">JEELABS</span></div>
      <h1 style="margin-top:0"><span class="esp">esp</span>-link</h1>
      <h2 id="version"></h2>
    </div>

    <div class="content">
      <div class="pure-g">
        <div class="pure-u-1"><div class="card">
          <p style="margin-bottom:0;">The JeeLabs esp-link firmware bridges the ESP8266
          serial port to Wifi and can
          program microcontrollers over the serial port, in particular Arduinos, AVRs, and
          NXP's LPC800 and other ARM processors. Typical avrdude command line to
          program an Arduino:</p>
          <div class="tt">/home/arduino/hardware/tools/avrdude \<br>
          &nbsp;&nbsp;-DV -patmega328p -Pnet:esp-link.local:23 -carduino -b115200 -U \<br>
          &nbsp;&nbsp;-C /home/arduino/hardware/tools/avrdude.conf flash:w:my_sketch.hex:i
          </div>
          <p>where <tt>-Pnet:esp-link.local:23</tt> tells avrdude to connect to port 23 of esp-link.
          You can substitute the IP address of your esp-link for esp-link.local if necessary.
          Please refer to
          <a href="https://github.com/jeelabs/esp-link/blob/master/README.md">the online README</a>
          for up-to-date help.</p>
        </div></div>
      </div>
      <div class="pure-g">
        <div class="pure-u-1 pure-u-md-1-2">
          <div class="card">
            <h1>Wifi summary</h1>
            <div id="wifi-spinner" class="spinner spinner-small"></div>
            <table id="wifi-table" class="pure-table pure-table-horizontal" hidden><tbody>
            <tr><td>WiFi mode</td><td id="wifi-mode"></td></tr>
            <tr><td>Configured network</td><td id="wifi-ssid"></td></tr>
            <tr><td>Wifi channel</td><td id="wifi-chan"></td></tr>
            <tr><td>Wifi status</td><td id="wifi-status"></td></tr>
            <tr><td>Wifi address</td><td id="wifi-ip"></td></tr>
            <tr><td>Configured hostname</td><td id="wifi-hostname"></td></tr>
            </tbody></table>
          </div>
          <div class="card">
            <h1>Esp-link summary</h1>
            <div id="system-spinner" class="spinner spinner-small"></div>
            <table id="system-table" class="pure-table pure-table-horizontal" hidden><tbody>
            <tr><td>Name</td><td><input type=text maxlength=12 disabled id="system-name"></td></tr>
            <tr><td>Flash chip ID</td><td id="system-id"></td></tr>
            <tr><td>Flash size</td><td id="system-size"></td></tr>
            <tr><td>Current partition</td><td id="system-partition"></td></tr>
            <tr><td>SLIP status</td><td id="system-slip"></td></tr>
            <tr><td>MQTT status</td><td id="system-mqtt"></td></tr>
            <tr><td>Serial baud</td><td id="system-baud"></td></tr>
            <tr><td colspan=2 >Description:<br>
                <textarea rows=3 maxlength=127 disabled id="system-description"></textarea></td></tr>
            </tbody></table>
          </div>
        </div>
        <div class="pure-u-1 pure-u-md-1-2"><div class="card">
          <h1>Pin assignment</h1>
          <legend>Select one of the following signal/pin assignments to match your hardware</legend>
          <fieldset class='radios' id='pin-mux'>
            <div class="spinner spinner-small"></div>
          </fieldset>
        </div></div>
      </div>
      <div class="pure-g">
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
onLoad(function() {
  makeAjaxInput("system", "name");
  makeAjaxInput("system", "description");
  fetchPins();
  getWifiInfo();
  getSystemInfo();
});
</script>
</body></html>
